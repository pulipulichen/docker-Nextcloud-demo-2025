"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["node_modules_blurhash_dist_esm_index_js-node_modules_vue-material-design-icons_PackageVariant-bff37a"],{95341:(t,e,n)=>{n.d(e,{D4:()=>d});var i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],r=t=>{let e=0;for(let n=0;n<t.length;n++){let r=t[n];e=83*e+i.indexOf(r)}return e},a=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},o=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},s=(t,e)=>(t=>t<0?-1:1)(t)*Math.pow(Math.abs(t),e),l=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},c=t=>{if(!t||t.length<6)throw new l("The blurhash string must be at least 6 characters");let e=r(t[0]),n=Math.floor(e/9)+1,i=e%9+1;if(t.length!==4+2*i*n)throw new l(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*i*n}`)},g=t=>{let e=t>>8&255,n=255&t;return[a(t>>16),a(e),a(n)]},p=(t,e)=>{let n=Math.floor(t/361),i=Math.floor(t/19)%19,r=t%19;return[s((n-9)/9,2)*e,s((i-9)/9,2)*e,s((r-9)/9,2)*e]},d=(t,e,n,i)=>{c(t),i|=1;let a=r(t[0]),s=Math.floor(a/9)+1,l=a%9+1,d=(r(t[1])+1)/166,u=new Array(l*s);for(let e=0;e<u.length;e++)if(0===e){let n=r(t.substring(2,6));u[e]=g(n)}else{let n=r(t.substring(4+2*e,6+2*e));u[e]=p(n,d*i)}let h=4*e,f=new Uint8ClampedArray(h*n);for(let t=0;t<n;t++)for(let i=0;i<e;i++){let r=0,a=0,c=0;for(let o=0;o<s;o++)for(let s=0;s<l;s++){let g=Math.cos(Math.PI*i*s/e)*Math.cos(Math.PI*t*o/n),p=u[s+o*l];r+=p[0]*g,a+=p[1]*g,c+=p[2]*g}let g=o(r),p=o(a),d=o(c);f[4*i+0+t*h]=g,f[4*i+1+t*h]=p,f[4*i+2+t*h]=d,f[4*i+3+t*h]=255}return f}},14581:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(71354),r=n.n(i),a=n(76314),o=n.n(a)()(r());o.push([t.id,".loader[data-v-dd0f8e46]{margin-top:30vh}.photos-navigation[data-v-dd0f8e46]{display:flex;height:44px;padding:0 40px;align-items:center;max-width:100%}.photos-navigation h2[data-v-dd0f8e46]{padding:0;margin:0}.heading-subline[data-v-dd0f8e46]{margin-left:85px;margin-top:-11px;color:var(--color-text-maxcontrast)}.tag__photos[data-v-dd0f8e46]{padding:0 64px}","",{version:3,sources:["webpack://./src/views/TagContent.vue"],names:[],mappings:"AAEA,yBACC,eAAA,CAGD,oCACC,YAAA,CACA,WAAA,CACA,cAAA,CACA,kBAAA,CACA,cAAA,CAEA,uCACC,SAAA,CACA,QAAA,CAIF,kCACC,gBAAA,CACA,gBAAA,CACA,mCAAA,CAGD,8BACC,cAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n.loader {\n\tmargin-top: 30vh;\n}\n\n.photos-navigation {\n\tdisplay: flex;\n\theight: 44px;\n\tpadding: 0 40px;\n\talign-items: center;\n\tmax-width: 100%;\n\n\th2 {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n}\n\n.heading-subline {\n\tmargin-left: 85px;\n\tmargin-top: -11px;\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.tag__photos {\n\tpadding: 0 64px;\n}\n'],sourceRoot:""}]);const s=o},92673:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});const i={name:"ArrowLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,n(14486).A)(i,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon arrow-left-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports},38491:(t,e,n)=>{n.d(e,{A:()=>r});const i={name:"PackageVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,n(14486).A)(i,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon package-variant-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports},76184:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(81779),r=n(91892);const a=(0,n(14486).A)(r.A,i.X,i.Y,!1,null,null,null).exports},23929:(t,e,n)=>{n.d(e,{A:()=>i});const i={name:"PlayCircleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},45987:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(76107),r=n(78377);const a=(0,n(14486).A)(r.A,i.X,i.Y,!1,null,null,null).exports},92438:(t,e,n)=>{n.d(e,{A:()=>i});const i={name:"VideoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},86526:(t,e,n)=>{n.r(e),n.d(e,{default:()=>V});var i=n(95353),r=n(92673),a=n(76333),o=n(37698),s=n(38385),l=n(11132),c=n(58637);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u={name:"TagContent",components:{File:o.A,FilesListViewer:s.A,NcEmptyContent:a.yI,NcActions:a.B6,NcActionButton:a.Ko,NcLoadingIcon:a.ne,ArrowLeft:r.default},mixins:[a.Fr,l.A,c.A],props:{path:{type:String,default:""}},data:()=>({error:null,loading:!1,appContent:document.getElementById("app-content-vue")}),computed:p(p({},(0,i.L8)(["files","tags","tagsNames"])),{},{tagId(){return this.$store.getters.tagId(this.path)},tag(){return this.tags[this.tagId]},fileIds(){return this.tag?this.tag.files:[]},isEmpty(){return 0===this.fileIds.length}}),watch:{async path(){this.fetchContent()}},async beforeMount(){this.fetchContent()},methods:{async fetchContent(){OCA.Viewer.close(),this.loading=!0,this.error=null;try{this.tags[this.tagId]||await this.$store.dispatch("fetchAllTags",{signal:this.abortController.signal}),this.tag&&!this.tag.files&&await this.$store.dispatch("fetchTagFiles",{id:this.tagId,signal:this.abortController.signal})}catch(t){console.error(t),this.error=!0}finally{this.loading=!1}},openViewer(t){const e=this.files[t];OCA.Viewer.open({path:e.filename,list:this.fileIds.map((t=>this.files[t])),loadMore:e.loadMore?async()=>await e.loadMore(!0):()=>[],canLoop:e.canLoop})}}};var h=n(85072),f=n.n(h),m=n(97825),A=n.n(m),C=n(77659),v=n.n(C),_=n(55056),b=n.n(_),y=n(10540),w=n.n(y),L=n(41113),x=n.n(L),M=n(14581),k={};k.styleTagTransform=x(),k.setAttributes=b(),k.insert=v().bind(null,"head"),k.domAPI=A(),k.insertStyleElement=w();f()(M.A,k);M.A&&M.A.locals&&M.A.locals;const V=(0,n(14486).A)(u,(function(){var t=this,e=t._self._c;return t.error?e("NcEmptyContent",{attrs:{name:t.t("photos","An error occurred")}}):t.loading?e("NcLoadingIcon",{staticClass:"loader"}):e("div",[e("div",{staticClass:"photos-navigation"},[e("NcActions",{staticClass:"photos-navigation__back"},[e("NcActionButton",{on:{click:function(e){return t.$router.push({name:"tags"})}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArrowLeft")]},proxy:!0}])},[t._v("\n\t\t\t\t"+t._s(t.t("photos","Back to tags overview"))+"\n\t\t\t")])],1),t._v(" "),e("h2",{staticClass:"photos-navigation__title"},[t._v("\n\t\t\t"+t._s(t.path)+"\n\t\t")])],1),t._v(" "),e("div",{staticClass:"heading-subline"},[t._v("\n\t\t"+t._s(t.n("photos","%n photo","%n photos",t.fileIds.length))+"\n\t")]),t._v(" "),t.isEmpty?e("NcEmptyContent",{attrs:{name:t.t("photos","No photos with this tag yet")}}):t._e(),t._v(" "),e("FilesListViewer",{staticClass:"tag__photos",attrs:{"container-element":t.appContent,"file-ids":t.fileIds,"base-height":t.isMobile?120:200,loading:t.loading},scopedSlots:t._u([{key:"default",fn:function(n){let{file:i,distance:r}=n;return e("File",{attrs:{file:t.files[i.id],"allow-selection":!0,selected:!0===t.selection[i.id],distance:r},on:{click:t.openViewer,"select-toggled":t.onFileSelectToggle}})}}])})],1)}),[],!1,null,"dd0f8e46",null).exports},91892:(t,e,n)=>{n.d(e,{A:()=>i});const i=n(23929).A},78377:(t,e,n)=>{n.d(e,{A:()=>i});const i=n(92438).A},81779:(t,e,n)=>{n.d(e,{X:()=>i,Y:()=>r});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon play-circle-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},r=[]},76107:(t,e,n)=>{n.d(e,{X:()=>i,Y:()=>r});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon video-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},r=[]},11459:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-star" viewBox="0 0 24 24"><path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z" /></svg>'}}]);
//# sourceMappingURL=photos-node_modules_blurhash_dist_esm_index_js-node_modules_vue-material-design-icons_PackageVariant-bff37a.js.map?v=0673520a9461cb301141